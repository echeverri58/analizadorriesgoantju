const _0x4099fc=_0x3c82;function _0x3c82(_0x147b32,_0x476476){const _0xa6c9b5=_0xa6c9();return _0x3c82=function(_0x3c826a,_0x3c693a){_0x3c826a=_0x3c826a-0x15d;let _0x57b7b9=_0xa6c9b5[_0x3c826a];return _0x57b7b9;},_0x3c82(_0x147b32,_0x476476);}(function(_0x377d6e,_0x5d9ba8){const _0x3cf703=_0x3c82,_0x1cfd83=_0x377d6e();while(!![]){try{const _0x3911f3=-parseInt(_0x3cf703(0x174))/0x1+parseInt(_0x3cf703(0x1a9))/0x2*(parseInt(_0x3cf703(0x1ba))/0x3)+-parseInt(_0x3cf703(0x1da))/0x4*(parseInt(_0x3cf703(0x1cb))/0x5)+-parseInt(_0x3cf703(0x197))/0x6*(-parseInt(_0x3cf703(0x170))/0x7)+parseInt(_0x3cf703(0x190))/0x8*(-parseInt(_0x3cf703(0x1d1))/0x9)+-parseInt(_0x3cf703(0x167))/0xa*(-parseInt(_0x3cf703(0x1a2))/0xb)+-parseInt(_0x3cf703(0x1b5))/0xc*(parseInt(_0x3cf703(0x1c7))/0xd);if(_0x3911f3===_0x5d9ba8)break;else _0x1cfd83['push'](_0x1cfd83['shift']());}catch(_0x35d148){_0x1cfd83['push'](_0x1cfd83['shift']());}}}(_0xa6c9,0xba1bc));const GOOGLE_API_KEY='AIzaSyA3p6lGcZz7hfYtjILfUec2Oi6knai8i8k',ANALYSIS_INSTRUCTIONS=_0x4099fc(0x17e),pdfFileInput=document[_0x4099fc(0x185)](_0x4099fc(0x1bc)),analyzeButton=document[_0x4099fc(0x185)](_0x4099fc(0x1be)),statusDiv=document[_0x4099fc(0x185)](_0x4099fc(0x1c4)),resultSection=document[_0x4099fc(0x185)]('resultSection'),downloadLink=document[_0x4099fc(0x185)]('downloadLink'),{jsPDF}=window[_0x4099fc(0x1de)];function showStatus(_0x3c9099,_0x57b8b0=_0x4099fc(0x175)){const _0x3a2a28=_0x4099fc;statusDiv[_0x3a2a28(0x176)]=_0x3a2a28(0x1c0),statusDiv[_0x3a2a28(0x194)][_0x3a2a28(0x1b4)](_0x3a2a28(0x1c1)+_0x57b8b0),statusDiv[_0x3a2a28(0x1b9)]=_0x3c9099,statusDiv['style']['display']='block';}async function extractPdfText(_0x2b6caa){return new Promise((_0x47ca13,_0x3e117a)=>{const _0x20d700=_0x3c82,_0x26a18c=new FileReader();_0x26a18c[_0x20d700(0x172)]=async _0x4e3b24=>{const _0x2ff9e4=_0x20d700;try{const _0xed0f12=new Uint8Array(_0x4e3b24[_0x2ff9e4(0x162)][_0x2ff9e4(0x1a0)]),_0x4ab55f=pdfjsLib[_0x2ff9e4(0x19d)]({'data':_0xed0f12}),_0x228a47=await _0x4ab55f[_0x2ff9e4(0x1b0)];let _0x57ef2b='';for(let _0x5756ed=0x1;_0x5756ed<=_0x228a47[_0x2ff9e4(0x161)];_0x5756ed++){const _0xf35bff=await _0x228a47['getPage'](_0x5756ed),_0x4ba3d7=await _0xf35bff['getTextContent'](),_0x5ced93=_0x4ba3d7[_0x2ff9e4(0x17b)][_0x2ff9e4(0x1d3)](_0x88cfb8=>_0x88cfb8[_0x2ff9e4(0x191)])[_0x2ff9e4(0x1c6)]('\x20');_0x57ef2b+=_0x5ced93+'\x0a\x0a';}_0x47ca13(_0x57ef2b[_0x2ff9e4(0x1b1)]());}catch(_0x58e1ff){console[_0x2ff9e4(0x1d5)](_0x2ff9e4(0x1d0),_0x58e1ff),_0x3e117a(_0x2ff9e4(0x19e)+(_0x58e1ff['message']||_0x58e1ff));}},_0x26a18c['onerror']=_0x4a5243=>{const _0x2295da=_0x20d700;console['error'](_0x2295da(0x18b),_0x4a5243),_0x3e117a('Error\x20al\x20leer\x20el\x20archivo\x20localmente.');},_0x26a18c[_0x20d700(0x18d)](_0x2b6caa);});}async function callGeminiAPI(_0x445794,_0x17d8fb){const _0x411b74=_0x4099fc;if(!GOOGLE_API_KEY||GOOGLE_API_KEY===_0x411b74(0x171))throw new Error(_0x411b74(0x17a));const _0x577a3f='gemini-1.5-flash',_0x50dfee=_0x411b74(0x1c2)+_0x577a3f+_0x411b74(0x17d)+GOOGLE_API_KEY,_0x18811a={'contents':[{'parts':[{'text':_0x411b74(0x1ad)+_0x445794+_0x411b74(0x1c8)+_0x17d8fb+_0x411b74(0x179)}]}],'generationConfig':{'temperature':0.6,'maxOutputTokens':0x1000}};try{const _0x395982=await fetch(_0x50dfee,{'method':_0x411b74(0x1ab),'headers':{'Content-Type':'application/json'},'body':JSON[_0x411b74(0x165)](_0x18811a)});if(!_0x395982['ok']){let _0x370535;try{_0x370535=await _0x395982[_0x411b74(0x1aa)]();}catch(_0x35e13a){throw new Error(_0x411b74(0x1a7)+_0x395982[_0x411b74(0x1c4)]+_0x411b74(0x1af)+_0x395982[_0x411b74(0x1c9)]);}console[_0x411b74(0x1d5)]('Error\x20API:',_0x370535);const _0x22b5a4=_0x370535[_0x411b74(0x1d5)]?.[_0x411b74(0x160)]||JSON['stringify'](_0x370535[_0x411b74(0x1d5)]);if(_0x395982['status']===0x190&&_0x22b5a4[_0x411b74(0x1ac)]()[_0x411b74(0x181)]('api\x20key\x20not\x20valid'))throw new Error(_0x411b74(0x173));throw new Error(_0x411b74(0x192)+_0x395982[_0x411b74(0x1c4)]+_0x411b74(0x1af)+_0x22b5a4);}const _0x506749=await _0x395982[_0x411b74(0x1aa)]();if(_0x506749[_0x411b74(0x193)]&&_0x506749[_0x411b74(0x193)][_0x411b74(0x1dd)]>0x0&&_0x506749['candidates'][0x0][_0x411b74(0x196)]?.['parts']?.[0x0]?.['text'])return _0x506749[_0x411b74(0x193)][0x0][_0x411b74(0x196)][_0x411b74(0x16d)][0x0][_0x411b74(0x1d8)];else{if(_0x506749[_0x411b74(0x199)]?.['blockReason']){const _0x4aa245=_0x506749[_0x411b74(0x199)]['blockReason'];console[_0x411b74(0x19f)](_0x411b74(0x164)+_0x4aa245);throw new Error(_0x411b74(0x1a4)+_0x4aa245+').');}else{console['warn'](_0x411b74(0x1cf),_0x506749);throw new Error('La\x20API\x20devolvió\x20una\x20respuesta\x20válida\x20pero\x20en\x20un\x20formato\x20inesperado\x20o\x20vacío.');}}}catch(_0x3f7aa0){console['error'](_0x411b74(0x1cd),_0x3f7aa0);if(_0x3f7aa0[_0x411b74(0x160)][_0x411b74(0x181)](_0x411b74(0x189))||_0x3f7aa0[_0x411b74(0x160)]['includes'](_0x411b74(0x188)))throw new Error(_0x411b74(0x17f));else{if(_0x3f7aa0[_0x411b74(0x160)][_0x411b74(0x181)](_0x411b74(0x1c5)))throw new Error(_0x411b74(0x177));else{if(_0x3f7aa0[_0x411b74(0x160)][_0x411b74(0x181)]('NetworkError')||_0x3f7aa0[_0x411b74(0x160)][_0x411b74(0x181)](_0x411b74(0x1ce)))throw new Error(_0x411b74(0x1b6));}}throw _0x3f7aa0;}}function _0xa6c9(){const _0x37e3b3=['normal','Por\x20favor,\x20selecciona\x20un\x20archivo\x20PDF.','Error\x20de\x20red\x20o\x20API\x20(','startsWith','44aeNqLS','json','POST','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**Instrucciones\x20(Predefinidas):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','):\x20','promise','trim','filter','Grupo\x20de\x20Analisis\x20Antijuridico\x20-\x20Alberto\x20Grisales','add','35184RZEzaW','Error\x20de\x20Red:\x20No\x20se\x20pudo\x20conectar\x20con\x20la\x20API\x20de\x20Google.\x20Verifica\x20tu\x20conexión\x20a\x20internet.','setFontSize','substring','innerHTML','207588OSOpuF','Iniciando\x20proceso...','pdfFile','none','analyzeButton','forEach','status-section','status-','https://generativelanguage.googleapis.com/v1beta/models/','left','status','quota','join','832bBAcpe','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**Texto\x20del\x20Documento\x20PDF\x20para\x20Analizar:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20INICIO\x20DEL\x20DOCUMENTO\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','statusText','Error:\x20','5175iHqwyK','setTextColor','Error\x20detallado\x20al\x20llamar\x20a\x20la\x20API\x20de\x20Gemini:','Failed\x20to\x20fetch','Respuesta\x20inesperada\x20de\x20la\x20API:','Error\x20al\x20leer\x20PDF\x20con\x20pdf.js:','8118sUFaot','PDF\x20leído\x20(','map','setFont','error','click','success','text','block','3944YAFNRh','¡Proceso\x20completado!\x20PDF\x20listo\x20para\x20descargar.','bold','length','jspdf','processing','style','addPage','message','numPages','target','addEventListener','Contenido\x20bloqueado:\x20','stringify','...','170740AkBMhj','log','display','pageSize','center','Análisis\x20IA\x20completado.\x20Generando\x20PDF...','parts','getTextDimensions','getWidth','1043OBIxNd','AQUI_PEGA_TU_GOOGLE_API_KEY','onload','Error\x20de\x20API:\x20La\x20clave\x20proporcionada\x20no\x20es\x20válida.\x20Verifica\x20la\x20constante\x20GOOGLE_API_KEY\x20en\x20script.js.','549099tuDupL','info','className','Error:\x20Se\x20ha\x20excedido\x20la\x20cuota\x20de\x20uso\x20de\x20la\x20API.\x20Inténtalo\x20más\x20tarde.','createObjectURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20FIN\x20DEL\x20DOCUMENTO\x20---\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**Tarea:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sigue\x20las\x20instrucciones\x20predefinidas\x20para\x20analizar\x20el\x20texto\x20proporcionado\x20y\x20genera\x20la\x20respuesta\x20estructurada\x20como\x20se\x20solicitó.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20de\x20configuración:\x20La\x20Google\x20API\x20Key\x20no\x20ha\x20sido\x20definida\x20en\x20script.js.','items','focus',':generateContent?key=','\x0aEres\x20un\x20abogado\x20experto\x20en\x20el\x20tema\x20de\x20riesgo\x20antijuridico\x20y\x20quiero\x20que\x20analices\x20documentos\x20de\x20instituciones\x20publicas\x20del\x20Estado\x20Colombiano\x20y\x20en\x20base\x20a\x20la\x20legislacion\x20Colombiana\x20evalues\x20los\x20riesgos\x20antijuridicos\x20que\x20puede\x20tener\x20el\x20documento\x20proporcionado\x20y\x20ademas\x20si\x20detecta\x20riesgos\x20crear\x20una\x20ruta\x20de\x20prevencion\x20de\x20estos\x20y\x20otra\x20ruta\x20de\x20defensa\x20por\x20medio\x20de\x20nuestros\x20abogados\x20expertos,\x20revisa\x20toda\x20la\x20documentación\x20posible\x20sobre\x20el\x20riesgo\x20antijuridico\x20con\x20la\x20cual\x20se\x20entreno\x20como\x20agente.\x0a\x0a**Formato:**\x0aUtiliza\x20encabezados\x20de\x20Markdown\x20(#,\x20##)\x20como\x20se\x20muestra\x20arriba\x20para\x20estructurar\x20tu\x20respuesta.\x0aSepara\x20los\x20párrafos\x20con\x20una\x20línea\x20en\x20blanco.\x0aUsa\x20**negrita**\x20para\x20resaltar\x20los\x20títulos\x20de\x20las\x20secciones\x20o\x20términos\x20muy\x20importantes\x20dentro\x20del\x20texto.\x0aTu\x20análisis\x20debe\x20basarse\x20estrictamente\x20en\x20la\x20información\x20contenida\x20en\x20el\x20documento\x20proporcionado.\x20No\x20añadas\x20información\x20externa\x20ni\x20hagas\x20suposiciones.\x20\x0a','Error\x20de\x20Configuración:\x20La\x20Google\x20API\x20Key\x20definida\x20en\x20script.js\x20no\x20es\x20válida.','fontStyle','includes','right','Error\x20en\x20el\x20proceso\x20principal:','output','getElementById','splitTextToSize','No\x20se\x20pudo\x20extraer\x20texto\x20útil\x20del\x20PDF.','API\x20Key\x20not\x20valid','API\x20key\x20not\x20valid','\x20caracteres).\x20Contactando\x20IA...','Error\x20de\x20FileReader:','Ocurrió\x20un\x20problema\x20desconocido.','readAsArrayBuffer','blob','internal','8712yxRhWO','str','Error\x20de\x20la\x20API\x20(','candidates','classList','##\x20','content','35022MVQkCu','helvetica','promptFeedback','Texto\x20extraído\x20(inicio):','getFont','split','getDocument','Error\x20al\x20procesar\x20el\x20archivo\x20PDF:\x20','warn','result','endsWith','715dxUiOr','Error\x20al\x20generar\x20el\x20PDF\x20con\x20jsPDF:','La\x20solicitud\x20fue\x20bloqueada\x20por\x20la\x20API\x20por\x20razones\x20de\x20seguridad\x20('];_0xa6c9=function(){return _0x37e3b3;};return _0xa6c9();}function generatePdfWithFooter(_0x5e0947,_0x557920=_0x4099fc(0x1b3)){const _0x223463=_0x4099fc,{jsPDF:_0x1764df}=window[_0x223463(0x1de)],_0x4d60d4=new _0x1764df({'orientation':'p','unit':'mm','format':'a4'}),_0x3d6221=0x14,_0x279916=_0x4d60d4['internal'][_0x223463(0x16a)]['getHeight'](),_0x45ff05=_0x4d60d4[_0x223463(0x18f)]['pageSize'][_0x223463(0x16f)](),_0x4266b3=_0x45ff05-0x2*_0x3d6221,_0x9709fa=_0x279916-_0x3d6221+0x5,_0x2bb07a=_0x279916-_0x3d6221-0x5,_0x3f8a99=_0x223463(0x198),_0x23a304=_0x223463(0x1a5),_0x522647=_0x223463(0x1dc),_0x12bc2f=0x10,_0x4c143d=0xe,_0xff840c=12.5,_0x2c289b=0xb,_0x1ffb16=0x8,_0x2a4f18=0x6,_0x3c7757=0x5,_0x1eaaf8=0x4,_0x316f75=0x3,_0x22f22f=1.3;let _0x566b86=0x1,_0x28d149=_0x3d6221;const _0x533e7b=_0x363951=>{const _0x151150=_0x223463,_0x5b47a4=_0x4d60d4['getFontSize'](),_0x5da222=_0x4d60d4[_0x151150(0x19b)]()[_0x151150(0x180)],_0x169644=_0x4d60d4['getTextColor']();_0x4d60d4[_0x151150(0x1b7)](_0x1ffb16),_0x4d60d4[_0x151150(0x1d4)](_0x3f8a99,_0x23a304),_0x4d60d4[_0x151150(0x1cc)](0x64),_0x4d60d4['text'](_0x557920,_0x45ff05/0x2,_0x9709fa,{'align':_0x151150(0x16b)}),_0x4d60d4[_0x151150(0x1d8)]('Página\x20'+_0x363951,_0x45ff05-_0x3d6221,_0x9709fa,{'align':_0x151150(0x182)}),_0x4d60d4[_0x151150(0x1b7)](_0x5b47a4),_0x4d60d4[_0x151150(0x1d4)](_0x3f8a99,_0x5da222),_0x4d60d4['setTextColor'](_0x169644);},_0x2ccc56=_0x3b2e64=>{const _0x4bdd72=_0x223463;if(_0x28d149+_0x3b2e64>_0x2bb07a)return _0x533e7b(_0x566b86),_0x4d60d4[_0x4bdd72(0x15f)](),_0x566b86++,_0x28d149=_0x3d6221,!![];return![];},_0xd616e1=_0x5e0947[_0x223463(0x19c)](/\n\s*\n/)[_0x223463(0x1d3)](_0x402549=>_0x402549['trim']())[_0x223463(0x1b2)](_0x500cb9=>_0x500cb9[_0x223463(0x1dd)]>0x0);_0xd616e1['forEach']((_0x25103d,_0x583e38)=>{const _0x4b0988=_0x223463;let _0x56e586=![],_0x471c34=_0x2c289b,_0x4e5e4d=_0x23a304,_0x2a9e2a=_0x316f75,_0x41b2ba=_0x4b0988(0x1c3);if(_0x25103d[_0x4b0988(0x1a8)]('#\x20'))_0x471c34=_0x12bc2f,_0x4e5e4d=_0x522647,_0x2a9e2a=_0x2a4f18,_0x25103d=_0x25103d[_0x4b0988(0x1b8)](0x2),_0x56e586=!![],_0x41b2ba=_0x4b0988(0x1c3);else{if(_0x25103d[_0x4b0988(0x1a8)](_0x4b0988(0x195)))_0x471c34=_0x4c143d,_0x4e5e4d=_0x522647,_0x2a9e2a=_0x3c7757,_0x25103d=_0x25103d[_0x4b0988(0x1b8)](0x3),_0x56e586=!![],_0x41b2ba=_0x4b0988(0x1c3);else{if(_0x25103d[_0x4b0988(0x1a8)]('###\x20'))_0x471c34=_0xff840c,_0x4e5e4d=_0x522647,_0x2a9e2a=_0x1eaaf8,_0x25103d=_0x25103d[_0x4b0988(0x1b8)](0x4),_0x56e586=!![],_0x41b2ba=_0x4b0988(0x1c3);else{if(_0x25103d[_0x4b0988(0x1a8)]('**')&&_0x25103d[_0x4b0988(0x1a1)]('**')&&_0x25103d[_0x4b0988(0x1dd)]>0x4)_0x4e5e4d=_0x522647,_0x25103d=_0x25103d[_0x4b0988(0x1b8)](0x2,_0x25103d[_0x4b0988(0x1dd)]-0x2);else{if(_0x25103d['startsWith']('__')&&_0x25103d[_0x4b0988(0x1a1)]('__')&&_0x25103d[_0x4b0988(0x1dd)]>0x4)_0x4e5e4d=_0x522647,_0x25103d=_0x25103d['substring'](0x2,_0x25103d['length']-0x2);else{if(!_0x56e586){}}}}}}_0x4d60d4[_0x4b0988(0x1b7)](_0x471c34),_0x4d60d4[_0x4b0988(0x1d4)](_0x3f8a99,_0x4e5e4d);const _0x47afd8=_0x4d60d4[_0x4b0988(0x186)](_0x25103d,_0x4266b3),_0x1ecab1=_0x4d60d4[_0x4b0988(0x16e)]('Tg',{'fontSize':_0x471c34})['h']*_0x22f22f,_0x17938d=_0x47afd8[_0x4b0988(0x1dd)]*_0x1ecab1,_0x266ce3=_0x28d149>_0x3d6221?_0x316f75:0x0;_0x2ccc56(_0x17938d+_0x266ce3),_0x28d149>_0x3d6221&&(_0x28d149+=_0x266ce3),_0x47afd8[_0x4b0988(0x1bf)]((_0x48411e,_0x26a3c3)=>{const _0x4fca0b=_0x4b0988,_0x4da5b2=_0x4d60d4[_0x4fca0b(0x16e)](_0x48411e,{'fontSize':_0x471c34})['h']*_0x22f22f;_0x2ccc56(_0x4da5b2),_0x4d60d4[_0x4fca0b(0x1d8)](_0x48411e,_0x3d6221,_0x28d149,{'align':_0x41b2ba,'maxWidth':_0x4266b3}),_0x28d149+=_0x4da5b2;}),_0x28d149+=_0x2a9e2a;});_0x566b86>0x0&&_0xd616e1['length']>0x0&&_0x533e7b(_0x566b86);try{const _0x2f14f4=_0x4d60d4[_0x223463(0x184)](_0x223463(0x18e));return _0x2f14f4;}catch(_0x2b7dc9){console[_0x223463(0x1d5)](_0x223463(0x1a3),_0x2b7dc9);throw new Error('Error\x20al\x20crear\x20el\x20archivo\x20PDF\x20de\x20salida.');}}analyzeButton[_0x4099fc(0x163)](_0x4099fc(0x1d6),async()=>{const _0x14c473=_0x4099fc,_0x56635b=pdfFileInput['files'][0x0];if(!_0x56635b){showStatus(_0x14c473(0x1a6),_0x14c473(0x1d5)),pdfFileInput[_0x14c473(0x17c)]();return;}analyzeButton[_0x14c473(0x1ae)]=!![],resultSection[_0x14c473(0x15e)]['display']=_0x14c473(0x1bd),downloadLink['href']='#',showStatus(_0x14c473(0x1bb),_0x14c473(0x15d));try{showStatus('Leyendo\x20el\x20archivo\x20PDF...',_0x14c473(0x15d));const _0x3330bb=await extractPdfText(_0x56635b);if(!_0x3330bb||_0x3330bb[_0x14c473(0x1dd)]<0xa)throw new Error(_0x14c473(0x187));showStatus(_0x14c473(0x1d2)+_0x3330bb['length']+_0x14c473(0x18a),_0x14c473(0x15d)),console[_0x14c473(0x168)](_0x14c473(0x19a),_0x3330bb[_0x14c473(0x1b8)](0x0,0xc8)+_0x14c473(0x166));const _0x1a7c05=await callGeminiAPI(ANALYSIS_INSTRUCTIONS,_0x3330bb);showStatus(_0x14c473(0x16c),'processing'),console[_0x14c473(0x168)]('Resultado\x20del\x20análisis:',_0x1a7c05);const _0x23e497=generatePdfWithFooter(_0x1a7c05),_0x346a3f=URL[_0x14c473(0x178)](_0x23e497);downloadLink['href']=_0x346a3f,resultSection['style'][_0x14c473(0x169)]=_0x14c473(0x1d9),showStatus(_0x14c473(0x1db),_0x14c473(0x1d7));}catch(_0x26f8c5){console['error'](_0x14c473(0x183),_0x26f8c5),showStatus(_0x14c473(0x1ca)+(_0x26f8c5[_0x14c473(0x160)]||_0x14c473(0x18c)),'error'),resultSection[_0x14c473(0x15e)][_0x14c473(0x169)]=_0x14c473(0x1bd);}finally{analyzeButton['disabled']=![];}}),statusDiv[_0x4099fc(0x15e)][_0x4099fc(0x169)]=_0x4099fc(0x1bd);
